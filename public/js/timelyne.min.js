var timelyne = function(a) {
    "use strict";
    function b(a) {
        return s > a ? v : t > a ? w : u > a ? x : void 0;
    }
    function c() {
        var a = document.getElementById(m), b = document.getElementById(n), c = document.getElementById(o);
        a.style.width = 100 * (r / i) + "%", a.style.backgroundColor = v, b.style.width = 100 * (p / i) + "%", 
        b.style.backgroundColor = w, c.style.width = 100 * (q / i) + "%", c.style.backgroundColor = x;
    }
    function d() {
        var a = Date.now(), c = h - a, d = a - g;
        l.innerHTML = parseInt(c / f, 10), l.style.backgroundColor = b(d / i), k.style.width = 100 * (d / i) + "%";
    }
    var e = 16.667, f = 1e3, g = a.start, h = a.end, i = h - g, j = document.getElementById("tl-test-01"), k = j.children[0], l = k.children[0], m = "tl-phase-dev", n = "tl-phase-review", o = "tl-phase-test", p = 20 * f, q = 20 * f, r = i - q - p, s = r / i, t = s + p / i, u = s + t + q / i, v = "#178DE3", w = "#B0B000", x = "#E7322E";
    c(), setInterval(d, e);
}, opts = {
    start: new Date("Sun Sep 01, 2013 22:11"),
    end: new Date("Tue Sep 01, 2013 22:13")
};

timelyne(opts);