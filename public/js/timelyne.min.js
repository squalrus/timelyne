var Timelyne=function(a){"use strict";function b(a){function b(a){h.push(a)}a.forEach(b),console.log("TIMELYNE: buildLines")}function c(a){return console.log("HELPER: findPhase"),x>a?w.color:y>a?v.color:z>a?u.color:void 0}function d(a){var b,c,d,f;return b=Math.floor(a/m),a-=b*m,c=Math.floor(a/l),a-=c*l,d=Math.floor(a/k),a-=d*k,f=Math.floor(a/j),a-=f*j,console.log("HELPER: formatDate"),e(b)+":"+e(c)+":"+e(d)+":"+e(f)}function e(a){return console.log("HELPER: addLeadingZero"),10>a?"0"+a:a}function f(){var a=document.getElementById(w.class),b=document.getElementById(v.class),c=document.getElementById(u.class),d=document.getElementById("tl-label");d.innerText=q,a.style.width=100*(w.length/p)+"%",a.style.backgroundColor=w.color,b.style.width=100*(v.length/p)+"%",b.style.backgroundColor=v.color,c.style.width=100*(u.length/p)+"%",c.style.backgroundColor=u.color,console.log("TIMELYNE: initilizePhases")}function g(){var a=Date.now(),b=o-a,e=a-n;t.innerHTML=d(b)+" <span class='tl-progress-fin'></span>",t.style.backgroundColor=c(e/p),t.children[0].style.borderTopColor=c(e/p),s.style.width=100*(e/p)+"%"}var h=[],i=16.667,j=1e3,k=60*j,l=60*k,m=24*l,n=new Date(a.data[0].start),o=new Date(a.data[0].end),p=o-n,q=a.data[0].title,r=document.getElementById("tl-test-01").children[1],s=r.children[0],t=s.children[0],u={"class":"tl-phase-test",color:a.defaults.test.color||"#E7322E",length:a.defaults.test.length||3*m},v={"class":"tl-phase-review",color:a.defaults.review.color||"#B0B000",length:a.defaults.review.length||1*m},w={"class":"tl-phase-dev",color:a.defaults.development.color||"#178DE3",length:a.defaults.development.length||p-u.length-v.length},x=w.length/p,y=x+v.length/p,z=x+y+u.length/p;f(),b(a.data),setInterval(g,i)},opts={defaults:{development:{color:"#178DE3"},review:{color:"#B0B000"},test:{color:"#E7322E"}},data:[{title:"Milestone 1",start:"Oct 22, 2013 08:00",end:"Oct 31, 2013 18:00"},{title:"Milestone 2",start:"Sep 08, 2013 08:00",end:"Oct 31, 2013 18:00"},{title:"Milestone 3",start:"Sep 16, 2013 08:00",end:"Oct 31, 2013 18:00"}]};window.Timelyne=new Timelyne(opts);